(this["webpackJsonpreact-food-list"]=this["webpackJsonpreact-food-list"]||[]).push([[0],{138:function(t,e,c){"use strict";c.r(e);var n=c(3),a=c(0),r=c.n(a),o=c(27),i=c.n(o),s=(c(87),c(14)),d=c(156),l=c(171),j=c(154),u=c(157),b=c(74),f=c(158),h=c(21),O=c(155),x=c(140),m=c(25),p=c(20),g=c(71),v="cart/addItem",y="cart/removeItem",I={cartItems:[{id:"1",count:0}]},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:var c=t.cartItems.filter((function(t){return t.id===e.payload}));c=0===c.length?t.cartItems.concat({id:e.payload,count:0}):Object(g.a)(t.cartItems);var n=Object(p.a)(Object(p.a)({},t),{},{cartItems:c.map((function(t){return t.id===e.payload?Object(p.a)(Object(p.a)({},t),{},{count:t.count+1}):Object(p.a)({},t)}))});return n;case y:return Object(p.a)(Object(p.a)({},t),{},{cartItems:t.cartItems.filter((function(t){return t.count>0})).map((function(t){return t.id===e.payload?Object(p.a)(Object(p.a)({},t),{},{count:t.count-1}):t}))});default:return t}},C="food/fetchRequest",N="food/fetchSuccess",k="food/fetchFailure",F="food/fetchRequestAsync",L={loading:!1,foodItems:[],error:""},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return Object(p.a)(Object(p.a)({},t),{},{loading:!0});case N:return{loading:!1,foodItems:e.payload,error:""};case k:return{loading:!1,foodItems:[],error:e.payload};default:return t}},S=c(64),T=c(72),G=c(35),B=c.n(G),E=c(36),P=c(65),q=c.n(P),A=B.a.mark(H),D=B.a.mark(J);function H(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)({type:C});case 2:return e.prev=2,e.next=5,q.a.get("https://json-placeholder-server.herokuapp.com/foods");case 5:return t=e.sent,e.next=8,Object(E.a)((n=t.data,{type:N,payload:n}));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,Object(E.a)((c=e.t0,{type:k,payload:c}));case 14:case"end":return e.stop()}var c,n}),A,null,[[2,10]])}function J(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.b)(F,H);case 2:case"end":return t.stop()}}),D)}var M=J,V=Object(T.a)(),W=Object(m.combineReducers)({food:R,cart:w}),z=Object(m.createStore)(W,Object(S.composeWithDevTools)(Object(m.applyMiddleware)(V)));V.run(M);var K=function(t){return t.food.foodItems},Q=function(t){return t.food.loading},U=function(t){return t.cart.cartItems},X=z,Y=function(t){return{type:v,payload:t}};var Z=Object(h.b)((function(t,e){return{food:K(t).filter((function(t){return t.id===e.cart.id}))[0]||{}}}),(function(t,e){return{addCartItem:function(){return t(Y(e.cart.id))},removeCartItem:function(){return t((c=e.cart.id,{type:y,payload:c}));var c}}}))((function(t){return Object(n.jsxs)(l.a,{display:"flex",style:{padding:10},children:[Object(n.jsx)(l.a,{children:Object(n.jsx)("img",{style:{width:300},src:t.food.img||"",alt:t.food.title||""})}),Object(n.jsxs)(l.a,{display:"flex",style:{padding:10},flexGrow:1,children:[Object(n.jsx)(l.a,{flexGrow:1,children:Object(n.jsx)(j.a,{variant:"h5",children:t.food.title||"ERROR"})}),Object(n.jsx)(l.a,{children:Object(n.jsxs)(O.a,{style:{height:40,width:100},children:[Object(n.jsx)(x.a,{onClick:t.addCartItem,children:Object(n.jsx)(j.a,{variant:"h5",children:"+"})}),Object(n.jsx)(x.a,{children:Object(n.jsx)(j.a,{variant:"h5",children:t.cart.count})}),Object(n.jsx)(x.a,{onClick:t.removeCartItem,children:Object(n.jsx)(j.a,{variant:"h5",children:"-"})})]})})]})]})})),$=Object(d.a)((function(){return{root:{padding:20,height:"100%"},title:{textAlign:"center",marginBottom:10},gridItem:{padding:20}}}));var _=Object(h.b)((function(t){return{cartItems:U(t).filter((function(t){return t.count>0})),foodList:K(t),loading:Q(t)}}),(function(t){return{fetchFoods:function(){return t({type:F})}}}))((function(t){var e=$();return 0!==t.foodList.length||t.loading||t.fetchFoodsP(),Object(n.jsxs)(l.a,{bgcolor:"grey.100",className:e.root,children:[Object(n.jsx)(j.a,{className:e.title,variant:"h4",children:"Shopping cart"}),Object(n.jsxs)(u.a,{container:!0,spacing:2,justify:"center",children:[Object(n.jsx)(u.a,{xs:12,md:8,item:!0,children:Object(n.jsxs)(b.a,{className:e.gridItem,children:[Object(n.jsxs)(j.a,{children:["Cart (",t.cartItems.length," items)"]}),t.cartItems.map((function(t,e){return Object(n.jsxs)("div",{children:[0!==e&&Object(n.jsx)(f.a,{}),Object(n.jsx)(Z,{cart:t})]},t.id)}))]})}),Object(n.jsx)(u.a,{xs:12,md:3,item:!0,children:Object(n.jsx)(b.a,{className:e.gridItem,children:"hi"})})]})]})})),tt=c(159),et=c(160),ct=c(161),nt=c(162),at=c(163),rt=c(164),ot=c(165),it=c(172),st=Object(d.a)((function(){return{root:{marginTop:20,width:330,maxHeight:500},grow:{flexGrow:1},media:{paddingTop:"56.25%"}}}));var dt=Object(h.b)(null,(function(t){return{addItem:function(e){return t(Y(e))}}}))((function(t){var e=st(),c=t.food;return Object(n.jsxs)(tt.a,{elevation:3,className:e.root,children:[Object(n.jsxs)(et.a,{children:[Object(n.jsx)(ct.a,{className:e.media,image:c.img,title:c.title}),Object(n.jsxs)(nt.a,{children:[Object(n.jsx)(j.a,{variant:"body1",children:c.title}),Object(n.jsx)("div",{className:e.grow}),Object(n.jsx)(it.a,{name:"half-rating-read",defaultValue:c.rating,precision:.1,readOnly:!0})]})]}),Object(n.jsx)(at.a,{children:Object(n.jsx)(rt.a,{onClick:function(){return t.addItem(c.id)},color:"secondary","aria-label":"add to cart",children:Object(n.jsx)(ot.a,{})})})]})})),lt=c(70),jt=Object(d.a)((function(){return{loading:{margin:"auto"}}}));var ut=Object(h.b)((function(t){return{foodList:K(t),loading:Q(t)}}),(function(t){return{fetchFoods:function(){return t({type:F})}}}))((function(t){var e=jt();return 0===t.foodList.length&&t.fetchFoods(),Object(n.jsxs)(l.a,{bgcolor:"grey.100",style:{padding:20},children:[Object(n.jsx)(lt.ClipLoader,{className:e.loading,loading:t.loading}),Object(n.jsx)(u.a,{container:!0,spacing:2,justify:"space-around",children:t.foodList.length>0&&t.foodList.map((function(t){return Object(n.jsx)(u.a,{item:!0,children:Object(n.jsx)(dt,{food:t})},t.id)}))})]})})),bt=c.p+"static/media/logo.6ce24c58.svg",ft=c(166),ht=c(167),Ot=c(168),xt=c(169),mt=c(170),pt=Object(d.a)((function(){return{grow:{flexGrow:1},toolbarIcons:{maxHeight:50}}}));var gt=Object(h.b)((function(t){var e=0;return U(t).forEach((function(t){t.count>0&&(e+=t.count)})),{cartCount:e}}))((function(t){var e=pt(),c=Object(s.f)();return Object(n.jsx)(ft.a,{position:"static",children:Object(n.jsxs)(ht.a,{children:[Object(n.jsx)(rt.a,{onClick:function(){"/"!==c.location.pathname&&c.push("/")},children:Object(n.jsx)("img",{className:e.toolbarIcons,src:bt,alt:""})}),Object(n.jsx)("div",{className:e.grow}),Object(n.jsx)(j.a,{variant:"h5",children:"React food list"}),Object(n.jsx)("div",{className:e.grow}),Object(n.jsx)(rt.a,{onClick:function(){"/cart"!==c.location.pathname&&c.push("/cart")},color:"inherit",children:Object(n.jsx)(Ot.a,{badgeContent:t.cartCount,max:9,color:"error",children:Object(n.jsx)(xt.a,{className:e.toolbarIcons})})}),Object(n.jsx)(rt.a,{edge:"end",color:"inherit",children:Object(n.jsx)(mt.a,{className:e.toolbarIcons})})]})})}));var vt=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(gt,{}),Object(n.jsxs)(s.c,{children:[Object(n.jsx)(s.a,{exact:!0,path:"/",component:ut}),Object(n.jsx)(s.a,{path:"/cart",component:_})]})]})},yt=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,175)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;c(t),n(t),a(t),r(t),o(t)}))},It=c(39);i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(It.a,{basename:"/react-food-list",children:Object(n.jsx)(h.a,{store:X,children:Object(n.jsx)(vt,{})})})}),document.getElementById("root")),yt()},87:function(t,e,c){}},[[138,1,2]]]);
//# sourceMappingURL=main.da08df72.chunk.js.map