(this["webpackJsonpreact-food-list"]=this["webpackJsonpreact-food-list"]||[]).push([[0],{131:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n(0),a=n.n(r),o=n(23),i=n.n(o),s=(n(81),n(10)),d=n(149),l=n(164),j=n(147),u=n(150),b=n(68),f=n(151),h=n(18),O=n(148),m=n(133),x=n(27),g=n(58),p=n(17),v=n(66),y="cart/addItem",I="cart/removeItem",w={cartItems:[{id:"1",count:0}]},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:var n=t.cartItems.filter((function(t){return t.id===e.payload}));n=0===n.length?t.cartItems.concat({id:e.payload,count:0}):Object(v.a)(t.cartItems);var c=Object(p.a)(Object(p.a)({},t),{},{cartItems:n.map((function(t){return t.id===e.payload?Object(p.a)(Object(p.a)({},t),{},{count:t.count+1}):Object(p.a)({},t)}))});return c;case I:return Object(p.a)(Object(p.a)({},t),{},{cartItems:t.cartItems.filter((function(t){return t.count>0})).map((function(t){return t.id===e.payload?Object(p.a)(Object(p.a)({},t),{},{count:t.count-1}):t}))});default:return t}},N="food/fetchRequest",F="food/fetchSuccess",L="food/fetchFailure",k={loading:!1,foodItems:[],error:""},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N:return Object(p.a)(Object(p.a)({},t),{},{loading:!0});case F:return{loading:!1,foodItems:e.payload,error:""};case L:return{loading:!1,foodItems:[],error:e.payload};default:return t}},S=n(59),T=Object(x.combineReducers)({food:R,cart:C}),G=Object(x.createStore)(T,Object(S.composeWithDevTools)(Object(x.applyMiddleware)(g.a))),P=function(t){return t.food.foodItems},B=function(t){return t.food.loading},E=function(t){return t.cart.cartItems},D=G,H=function(t){return{type:y,payload:t}};var J=Object(h.b)((function(t,e){return{food:P(t).filter((function(t){return t.id===e.cart.id}))[0]||{}}}),(function(t,e){return{addCartItem:function(){return t(H(e.cart.id))},removeCartItem:function(){return t((n=e.cart.id,{type:I,payload:n}));var n}}}))((function(t){return Object(c.jsxs)(l.a,{display:"flex",style:{padding:10},children:[Object(c.jsx)(l.a,{children:Object(c.jsx)("img",{style:{width:300},src:t.food.img||"",alt:t.food.title||""})}),Object(c.jsxs)(l.a,{display:"flex",style:{padding:10},flexGrow:1,children:[Object(c.jsx)(l.a,{flexGrow:1,children:Object(c.jsx)(j.a,{variant:"h5",children:t.food.title||"ERROR"})}),Object(c.jsx)(l.a,{children:Object(c.jsxs)(O.a,{style:{height:40,width:100},children:[Object(c.jsx)(m.a,{onClick:t.addCartItem,children:Object(c.jsx)(j.a,{variant:"h5",children:"+"})}),Object(c.jsx)(m.a,{children:Object(c.jsx)(j.a,{variant:"h5",children:t.cart.count})}),Object(c.jsx)(m.a,{onClick:t.removeCartItem,children:Object(c.jsx)(j.a,{variant:"h5",children:"-"})})]})})]})]})})),M=n(64),q=n.n(M),A=function(){return function(t){t(V()),q.a.get("https://json-placeholder-server.herokuapp.com/foods").then((function(e){return t(W(e.data))})).catch((function(e){return t(z(e))}))}},V=function(){return{type:N}},W=function(t){return{type:F,payload:t}},z=function(t){return{type:L,payload:t}},K=Object(d.a)((function(){return{root:{padding:20,height:"100%"},title:{textAlign:"center",marginBottom:10},gridItem:{padding:20}}}));var Q=Object(h.b)((function(t){return{cartItems:E(t).filter((function(t){return t.count>0})),foodList:P(t),loading:B(t)}}),(function(t){return{fetchFoodsP:function(){return t(A())}}}))((function(t){var e=K();return 0!==t.foodList.length||t.loading||t.fetchFoodsP(),Object(c.jsxs)(l.a,{bgcolor:"grey.100",className:e.root,children:[Object(c.jsx)(j.a,{className:e.title,variant:"h4",children:"Shopping cart"}),Object(c.jsxs)(u.a,{container:!0,spacing:2,justify:"center",children:[Object(c.jsx)(u.a,{xs:12,md:8,item:!0,children:Object(c.jsxs)(b.a,{className:e.gridItem,children:[Object(c.jsxs)(j.a,{children:["Cart (",t.cartItems.length," items)"]}),t.cartItems.map((function(t,e){return Object(c.jsxs)("div",{children:[0!==e&&Object(c.jsx)(f.a,{}),Object(c.jsx)(J,{cart:t})]},t.id)}))]})}),Object(c.jsx)(u.a,{xs:12,md:3,item:!0,children:Object(c.jsx)(b.a,{className:e.gridItem,children:"hi"})})]})]})})),U=n(152),X=n(153),Y=n(154),Z=n(155),$=n(156),_=n(157),tt=n(158),et=n(165),nt=Object(d.a)((function(){return{root:{marginTop:20,width:330,maxHeight:500},grow:{flexGrow:1},media:{paddingTop:"56.25%"}}}));var ct=Object(h.b)(null,(function(t){return{addItem:function(e){return t(H(e))}}}))((function(t){var e=nt(),n=t.food;return Object(c.jsxs)(U.a,{elevation:3,className:e.root,children:[Object(c.jsxs)(X.a,{children:[Object(c.jsx)(Y.a,{className:e.media,image:n.img,title:n.title}),Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(j.a,{variant:"body1",children:n.title}),Object(c.jsx)("div",{className:e.grow}),Object(c.jsx)(et.a,{name:"half-rating-read",defaultValue:n.rating,precision:.1,readOnly:!0})]})]}),Object(c.jsx)($.a,{children:Object(c.jsx)(_.a,{onClick:function(){return t.addItem(n.id)},color:"secondary","aria-label":"add to cart",children:Object(c.jsx)(tt.a,{})})})]})})),rt=n(65),at=Object(d.a)((function(){return{loading:{margin:"auto"}}}));var ot=Object(h.b)((function(t){return{foodList:P(t),loading:B(t)}}),(function(t){return{fetchFoods:function(){return t(A())}}}))((function(t){var e=at();return 0===t.foodList.length&&t.fetchFoods(),Object(c.jsxs)(l.a,{bgcolor:"grey.100",style:{padding:20},children:[Object(c.jsx)(rt.ClipLoader,{className:e.loading,loading:t.loading}),Object(c.jsx)(u.a,{container:!0,spacing:2,justify:"space-around",children:t.foodList.length>0&&t.foodList.map((function(t){return Object(c.jsx)(u.a,{item:!0,children:Object(c.jsx)(ct,{food:t})},t.id)}))})]})})),it=n.p+"static/media/logo.6ce24c58.svg",st=n(159),dt=n(160),lt=n(161),jt=n(162),ut=n(163),bt=Object(d.a)((function(){return{grow:{flexGrow:1},toolbarIcons:{maxHeight:50}}}));var ft=Object(h.b)((function(t){var e=0;return E(t).forEach((function(t){t.count>0&&(e+=t.count)})),{cartCount:e}}))((function(t){var e=bt(),n=Object(s.f)();return Object(c.jsx)(st.a,{position:"static",children:Object(c.jsxs)(dt.a,{children:[Object(c.jsx)(_.a,{onClick:function(){"/"!==n.location.pathname&&n.push("/")},children:Object(c.jsx)("img",{className:e.toolbarIcons,src:it,alt:""})}),Object(c.jsx)("div",{className:e.grow}),Object(c.jsx)(j.a,{variant:"h5",children:"React food list"}),Object(c.jsx)("div",{className:e.grow}),Object(c.jsx)(_.a,{onClick:function(){"/cart"!==n.location.pathname&&n.push("/cart")},color:"inherit",children:Object(c.jsx)(lt.a,{badgeContent:t.cartCount,max:9,color:"error",children:Object(c.jsx)(jt.a,{className:e.toolbarIcons})})}),Object(c.jsx)(_.a,{edge:"end",color:"inherit",children:Object(c.jsx)(ut.a,{className:e.toolbarIcons})})]})})}));var ht=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(ft,{}),Object(c.jsxs)(s.c,{children:[Object(c.jsx)(s.a,{exact:!0,path:"/",component:ot}),Object(c.jsx)(s.a,{path:"/cart",component:Q})]})]})},Ot=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),a(t),o(t)}))},mt=n(33);i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(mt.a,{children:Object(c.jsx)(h.a,{store:D,children:Object(c.jsx)(ht,{})})})}),document.getElementById("root")),Ot()},81:function(t,e,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.6a354336.chunk.js.map